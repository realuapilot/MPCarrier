<?xml version="1.0"?>
<!--
  Common part of MP carriers for FlightGear.

  Copyright (C) 2007 - 2012  Anders Gidenstam  (anders(at)gidenstam.org)
  Copyright (C) 2009  Vivian Meazza
  This file is released under the GPL license version 2 or later.
-->
<PropertyList>

  <sim>

    <!-- Aircraft specific help. -->
    <help include="help.xml"/>

    <multiplay>
      <generic>
        <string n="0" type="string"></string><!-- MP events -->
        <float n="0" alias="controls/tgt-heading-degs"/>
        <float n="1" alias="controls/tgt-speed-kts"/>
        <float n="2" alias="controls/turn-radius-ft"/>
      </generic>
    </multiplay>

    <hud>
      <path n="1">Aircraft/MPCarrier/Systems/LSO.xml</path>
      <visibility n="1">true</visibility>
      <font>
        <size type="float">10.0</size>
      </font>
    </hud>


<menubar>
			<default>
				<menu n="10">
					<label>MP Carrier</label>
					<enabled type="bool">true</enabled>

<item>
			<label>Toggle Damage</label>
			<binding>
				<command>nasal</command>
				<script>
						if(getprop("/payload/armament/msg")){screen.log.write("Damage is Off",1,1,0);setprop("/payload/armament/msg",0);}else{screen.log.write("Damage is On",1,1,0);setprop("/payload/armament/msg",1);}
				</script>
			</binding>
		</item>

<item>
			<label>Repair damage Carrier</label>
			<binding>
				<command>nasal</command>
				<script>

						carriersys.repair();
						screen.log.write("Carrier repaired successfully.",1,1,0);
				</script>
			</binding>
		</item>

				</menu>
			</default>
		</menubar>



  </sim>



   <damage>
        <sounds>
            <nearby-explode-on type="bool">false</nearby-explode-on>
            <missile-hit type="bool">false</missile-hit>
        </sounds>
        <fire>
            <serviceable type="bool">false</serviceable>
        </fire>


                    <carrierdead type="int">0</carrierdead>
    </damage>
	<!-- payload options -->

<payload>
        <d-config>
            <full_damage_dist_m type="double">3</full_damage_dist_m>
            <use_hitpoints_instead_of_failure_modes_bool type="bool">false</use_hitpoints_instead_of_failure_modes_bool>
            <hp_max type="double">90</hp_max>
            <hitable_by_air_munitions type="bool">true</hitable_by_air_munitions>
            <hitable_by_cannon type="bool">true</hitable_by_cannon>
            <is_fleet type="bool">false</is_fleet>
            <rwr_to_screen type="bool">true</rwr_to_screen>
            <rwr_audio_extended type="bool">true</rwr_audio_extended>
            <tacview_supported type="bool">false</tacview_supported>
            <m28_auto type="bool">false</m28_auto>
            <mlw_max type="double">0</mlw_max>
            <auto_flare_caller type="bool">false</auto_flare_caller>
		</d-config>
		<!-- Yep. this should go here... -->
	

		
	  <armament>
            <enable-craters type="bool">true</enable-craters>
            <MLW-bearing type="double">0</MLW-bearing>
            <MLW-count type="int">0</MLW-count>
            <MLW-launcher type="string"></MLW-launcher>
            <MAW-bearing type="double">0</MAW-bearing>
            <MAW-active type="bool">false</MAW-active>
            <MAW-semiactive type="bool">false</MAW-semiactive>
            <msg type="bool">true</msg> <!--NOTE!!!: This gets set to false in nasal on startup. maybe weapons.nas?         Todo: , And make the missiles appear on Target. dadadadadadadadaadadadadadadaadadad acording to all known laws of avation. theres no way a bee should be able to fly-->
            <spike type="bool">false</spike>
            <models type="string">Aircraft/MPCarrier/Models/emesary/</models>
        </armament>
    </payload>


  <input>
    <keyboard include="Aircraft/Generic/WalkView/walk-view-keys.xml">
      <key n="22">
        <name>Ctrl-V</name>
        <desc>Select initial view (view 0).</desc>
        <binding>
          <command>nasal</command>
          <script>
            setprop("/sim/current-view/view-number", view.indexof("Bridge View"));
          </script>
        </binding>
      </key>
      <key n="1">
        <name>Ctrl-A</name>
        <desc>Toggle AI/Manual control</desc>
        <binding>
          <command>nasal</command>
          <script>CarrierControl.toggleAIControl()</script>
        </binding>
      </key>



      <key n="46">
        <name>period</name>
        <desc>increase alt</desc>
        <repeatable type="bool">true</repeatable>
        <binding>
          <command>nasal</command>
          <script>CarrierControl.incalt(10,65)</script>
        </binding>

      </key>

      <key n="44">
        <name>comma</name>
        <desc>Decrease alt</desc>
        <repeatable type="bool">true</repeatable>
        <binding>
          <command>nasal</command>
          <script>CarrierControl.incalt(-10,65)</script>
        </binding>

      </key>


      <!-- Throttle -->
      <key n="361">
        <name>PageDown</name>
        <desc>Decrease base speed.</desc>
        <repeatable type="bool">true</repeatable>
        <binding>
          <command>nasal</command>
          <script>CarrierControl.incSpeed(-0.5)</script>
        </binding>
        <mod-shift>
          <desc>Look back right.</desc>
          <binding>
            <command>property-assign</command>
            <property>/sim/current-view/goal-heading-offset-deg</property>
            <property>/sim/view/config/back-right-direction-deg</property>
          </binding>
        </mod-shift>
      </key>
      <key n="360">
        <name>PageUp</name>
        <desc>Increase base speed.</desc>
        <repeatable type="bool">true</repeatable>
        <binding>
          <command>nasal</command>
          <script>CarrierControl.incSpeed(0.5)</script>
        </binding>
        <mod-shift>
          <desc>Look front right.</desc>
          <binding>
            <command>property-assign</command>
            <property>/sim/current-view/goal-heading-offset-deg</property>
            <property>/sim/view/config/front-right-direction-deg</property>
          </binding>
        </mod-shift>
      </key>

      <!-- Rudder -->
      <key n="356">
        <name>Left</name>
        <desc>Rudder to port.</desc>
        <repeatable type="bool">true</repeatable>
        <binding>
          <command>nasal</command>
          <script>CarrierControl.incRudder(-0.5)</script>
        </binding>
        <mod-shift>
          <desc>Look left.</desc>
          <binding>
            <command>property-assign</command>
            <property>/sim/current-view/goal-heading-offset-deg</property>
            <property>/sim/view/config/left-direction-deg</property>
          </binding>
        </mod-shift>
      </key>
      <key n="358">
        <name>Right</name>
        <desc>Rudder to starboard.</desc>
        <repeatable type="bool">true</repeatable>
        <binding>
          <command>nasal</command>
          <script>CarrierControl.incRudder(0.5)</script>
        </binding>
        <mod-shift>
          <desc>Look right.</desc>
          <binding>
            <command>property-assign</command>
            <property>/sim/current-view/goal-heading-offset-deg</property>
            <property>/sim/view/config/right-direction-deg</property>
          </binding>
        </mod-shift>
      </key>

    </keyboard>
  </input>

</PropertyList>
